<%# app/views/accounts/show.html.erb %>

<div class="main-content">
    <%= render 'layouts/alerts' %>

    <div class="page-header">
        <h2 class="header-title">View Account</h2>
        <div class="header-sub-title">
            <nav class="breadcrumb breadcrumb-dash">
                <a href="/" class="breadcrumb-item">
                    <i class="anticon anticon-home m-r-5"></i>Home
                </a>
                <a class="breadcrumb-item" href="#">Financial Management</a>
                <a class="breadcrumb-item" href="<%= accounts_path %>">Accounts</a>
                <span class="breadcrumb-item active">View Account</span>
            </nav>
        </div>
    </div>


    <div class="row">
        <div class="col-lg-12">

            <div class="card">
                <div class="card-body">

                    <div class="m-t-10">
                        <div class="table-responsive">

                            <table class="table table-bordered">
                                <tbody>
                                    <tr>
                                        <th width="20%">#</th>
                                        <td><%= @account.id %></td>
                                    </tr>
                                    <tr>
                                        <th width="20%">Code</th>
                                        <td>
                                            <%= @account.code %>
                                            <% if @account.is_cash_flow_account? %>
                                                <i class="fas fa-money-bill-wave text-info" title="Cash Flow Account"></i>
                                            <% end %>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>Name</th>
                                        <td><%= @account.name %></td>
                                    </tr>
                                    <tr>
                                        <th>Account Type</th>
                                        <td><span style="color: white;" class="badge <%= badge_color_on_account_type(@account) %>"><%= @account.account_type %></span></td>
                                    </tr>
                                    <tr>
                                        <th>Sub Type</th>
                                        <td><%= @account.sub_type %></td>
                                    </tr>
                                    <tr>
                                        <th>Current Balance</th>
                                        <td class="text-end">
                                            <span style="color: white;" class="badge <% if @account.current_balance.to_f >= 0 %>bg-success<% else %>bg-danger<% end %>">
                                                $<%= @account.current_balance.to_f.round(2) %>
                                            </span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>Active?</th>
                                        <td><%= @account.is_active ? "Yes" : "No" %></td></tr>
                                    <tr>
                                        <th>Created At</th>
                                        <td><%= @account.created_at.strftime("%b %d, %Y") %></td></tr>
                                    <tr>
                                        <th>Action</th>
                                        <td>
                                            <%= link_to "Edit", edit_account_path(@account) %> |
                                            <%= link_to "Delete",
                                                delete_account_path(@account),
                                                method: :delete,
                                                data: { confirm: "Are you sure?" },
                                                class: "confirm-delete"
                                            %>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>

                        </div>
                    </div>

                </div>
            </div>

        </div>
    </div>

</div>