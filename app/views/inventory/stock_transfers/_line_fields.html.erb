<div class="transfer-line-row border rounded p-3 mb-3">
  <div class="row">
    <div class="col-md-3">
      <%= f.input :product_id,
        collection: Product.where(deleted: false, is_stocked: true).order(:name).map { |p| [ "#{p.sku} - #{p.name}", p.id ] },
        label: "Product",
        as: :select,
        prompt: "Select Product",
        input_html: { class: "form-control form-control", include_blank: false } %>
    </div>
    
    <div class="col-md-2">
      <%= f.input :from_location_id,
          collection: Location.active.where(is_pickable: true).order(:name),
          label_method: lambda { |l| "#{l.code} - #{l.name}" },
          label: 'From Location (Pickable)',
          prompt: "Select From Location",
          input_html: { class: 'form-control form-control from-location-select' } %>
    </div>
    
    <div class="col-md-2">
      <%= f.input :to_location_id,
          collection: Location.active.where(is_receivable: true).order(:name),
          label_method: lambda { |l| "#{l.code} - #{l.name}" },
          label: 'To Location (Receivable)',
          prompt: "Select To Location",
          input_html: { class: 'form-control form-control to-location-select' } %>
    </div>
    
    <div class="col-md-2">
      <%= f.input :qty,
          label: 'Quantity',
          input_html: { class: 'form-control form-control', min: 0 } %>
    </div>
    
    <div class="col-md-2">
      <%= f.input :uom_id,
          collection: UnitOfMeasure.non_deleted.order(:name),
          label_method: :symbol,
          prompt: "Select UoM",
          input_html: { class: 'form-control form-control' } %>
    </div>
    
    <div class="col-md-1">
      <label>&nbsp;</label>
      <button type="button" class="btn btn-xs btn-outline-danger remove-transfer-line w-100">
        X
      </button>
      <%= f.input :_destroy, as: :hidden %>
    </div>

    <div class="col-md-2">
      <%= f.association :batch,
          collection: StockBatch.non_deleted,
          label_method: :batch_number,
          value_method: :id,
          label: 'Batch (if tracked)',
          include_blank: 'No Batch',
          input_html: { class: 'form-control form-control' } %>
    </div>
  </div>
</div>